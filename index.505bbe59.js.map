{"mappings":"AAAA,MAGMA,EAAcC,SAASC,cAAc,oBACrCC,EAAaF,SAASC,cAAc,gBACpCE,EAASH,SAASC,cAAc,WAChCG,EAAQJ,SAASC,cAAc,UAErCF,EAAYM,iBAAiB,SAoC7B,SAAqBC,GACnB,MAAMC,EAAQD,EAAIE,OAAOC,MACnBC,EAAUC,EAASC,QAAO,EAACC,GAAEA,KAASA,IAAON,IACnDO,QAAQC,IAAIL,GAqCZP,EAAOa,UAAUC,OAAO,cA9BDC,EALPX,EAMTY,MACL,wDAAwDD,KACxDE,MAAKC,IACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,KAZGL,MACrBM,GAASxB,EAAWyB,UAexB,SAAsBC,GAAMC,IAI1B,OAHAC,IACAhB,QAAQC,IAAIc,EAAKE,aACjBjB,QAAQC,IAAI,MAAOa,GACZA,EACJI,KACC,EAACC,IAAEA,KAAU,cAAcA,WAAaJ,EAAKK,gCACzCL,EAAKK,kCACOL,EAAKE,wCACLF,EAAKM,oBAEtBC,KAAK,G,CA1B0BC,CAAaX,EAAMhB,KAIvD,IAAyBQ,C,IA3CzBd,EAAMY,UAAUsB,IAAI,aAEpB,IAAI3B,EAAW,GAkEf,SAASmB,IACP3B,EAAOa,UAAUsB,IAAI,Y,CArDdnB,MAAM,sHAA0DC,MACrEC,IACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAM,GAAGF,EAAKG,cAG1B,OADArB,EAAOa,UAAUC,OAAO,aACjBI,EAAKI,MAAM,IAjBrBL,MAAKM,IACJf,EAAS4B,QAAQb,GACjB3B,EAAYyC,mBAAmB,YAAyBd,EAsBvDM,KAAI,EAACnB,GAAEA,EAAEqB,KAAEA,KAAW,kBAAkBrB,MAAOqB,eAC/CE,KAAK,KAtBNN,GAAwB,IAEzBW,OAAMC,IACLZ,IACA1B,EAAMY,UAAUC,OAAO,YAAY","sources":["src/index.js"],"sourcesContent":["const API_KEY =\n  'live_gNTTZRTU8sYEZ7zbId5Dwq32yg2NX9D3PSae4ZpSKoRhw48h42u9HoF1xzR3yozR;';\n\nconst breedSelect = document.querySelector('.js-breed-select');\nconst catsInfoEl = document.querySelector('.js-cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nbreedSelect.addEventListener('input', onSelectCat);\n\n// loaderIsHiddenClassAdd();\nerror.classList.add('is_hidden');\n\nlet catCards = [];\n\nfetchBreeds()\n  .then(data => {\n    catCards.push(...data);\n    breedSelect.insertAdjacentHTML('beforeend', onAddSelect(data));\n    loaderIsHiddenClassAdd();\n  })\n  .catch(err => {\n    loaderIsHiddenClassAdd();\n    error.classList.remove('is_hidden');\n  });\n\nfunction fetchBreeds() {\n  return fetch(`https://api.thecatapi.com/v1/breeds?api_key=${API_KEY}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(`${resp.statusText}`);\n      }\n      loader.classList.remove('is_hidden');\n      return resp.json();\n    }\n  );\n}\n\nfunction onAddSelect(arr) {\n  return arr\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfunction onSelectCat(evt) {\n  const catId = evt.target.value;\n  const catInfo = catCards.filter(({ id }) => id === catId);\n  console.log(catInfo);\n  loaderIsHiddenClassRemove();\n  fetchCatByBreed(catId).then(\n    data => (catsInfoEl.innerHTML = createMarkup(data, catInfo))\n  );\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nfunction createMarkup(arr, [info]) {\n  loaderIsHiddenClassAdd();\n  console.log(info.description);\n  console.log('arr', arr);\n  return arr\n    .map(\n      ({ url }) => ` <img src=\"${url}\" alt=\"${info.name}\" width =\"300\">\n    <h1>${info.name}</h1>\n    <p>Description: ${info.description}</p>\n    <p>Temperament: ${info.temperament}</p>`\n    )\n    .join('');\n}\n\nfunction loaderIsHiddenClassAdd() {\n  loader.classList.add('is_hidden');\n}\n\nfunction loaderIsHiddenClassRemove() {\n  loader.classList.remove('is_hidden');\n}\n"],"names":["$1f0dc3b9307be026$var$breedSelect","document","querySelector","$1f0dc3b9307be026$var$catsInfoEl","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$error","addEventListener","evt","catId","target","value","catInfo","$1f0dc3b9307be026$var$catCards","filter","id","console","log","classList","remove","breedId","fetch","then","resp","ok","Error","statusText","json","data","innerHTML","arr","info","$1f0dc3b9307be026$var$loaderIsHiddenClassAdd","description","map","url","name","temperament","join","$1f0dc3b9307be026$var$createMarkup","add","push","insertAdjacentHTML","catch","err"],"version":3,"file":"index.505bbe59.js.map"}